<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" />
  <title>Report</title>
  <style>
    h1 {
      font-size: 30px;
      font-family: Georgia, 'Times New Roman', Times, serif;
      color: cadetblue;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      text-align: center;
    }

    .pagging-component {
      display: flex;
      font-size: 30px;
      padding-left: 200px;

    }

    a {
      text-decoration: none;
      font-size: bold;
    }


    td {
      border: 1px solid black;
      width: 230px;
      background-color: cadetblue;
    }

    th {
      border: 1px solid black;
      background-color: crimson;
    }

    .table {
      width: 80%;
      margin: 0 auto;
    }

    .form {
      padding-left: 50px;
    }

    p {
      text-align: center;
    }
  </style>
</head>

<body>
  <div class="container">
    <a href="/Dashboard">Back to Dashboard</a>
    <h1>24DEV078 JEEL PATEL</h1>

    <div class="header">

      <div>
        <form action="/report" method="get" class="form">
          <select name="month" id="month">
            select month
            <option value="december" <% if (month=="december" ) { %> selected<% } %>>December</option>
            <option value="january" <% if (month=="january" ) { %> selected<% } %> >January</option>
            <option value="february" <% if (month=="february" ) { %> selected <% } %> >February</option>
          </select>



          <select name="year" id="year">
            <option value="2024" selected>2024</option>
            <option value="2023" <% if(year==2023) {%> selected <% } %>>2023</option>
          </select>


          <input type="submit" value="submit" />
        </form>
      </div>
    </div>
    <P>Attendence report of <strong>
        <%= month %>
      </strong></P>

    <div class="pagging-component">
      <% if(l>1){ %>
        <a class="fa-solid fa-angles-left"
          href="/report?p=1&month=<%= month %>&year=<%= year %>&order=<%= order %>&column=<%= column %>"></a>
        <% } %>
          <% if(l>1){ %>
            <a class="fa-solid fa-angle-left"
              href="/report?p=<%= Number(l)-1 %>&month=<%= month %>&year=<%= year %>&order=<%= order %>&column=<%= column %>"></a>
            <% } %>
              <div>
                <%=l%>
              </div>
              <% if(l>=1 && l<10){ %>
                  <a class="fa-solid fa-angle-right"
                    href="/report?p=<%= Number(l)+1 %> %>&month=<%= month %>&year=<%= year %>&order=<%= order %>&column=<%= column %>"></a>
                  <% } %>
                    <% if(l>=1 && l<10){ %>
                        <a class="fa-solid fa-angles-right"
                          href="/report?p=20&month=<%= month %>&year=<%= year %>&order=<%= order %>&column=<%= column %>"></a>
                        <% } %>
    </div>
    <div class="table">
      <table>
        <tr>
          <th><a id="arrow1" class="fa-solid fa-angle-up"
              href="/report?order=asc&column=id&month=<%= month %>&year=<%= year %>" onclick="funcblur()"> </a>
            <a class="fa-solid fa-angle-down" href="/report?order=desc&column=id&month=<%= month %>&year=<%= year %>">
            </a>Student_id
          </th>
          <th><a class="fa-solid fa-angle-up"
              href="/report?order=asc&column=firstname&month=<%= month %>&year=<%= year %>"> </a> <a
              class="fa-solid fa-angle-down"
              href="/report?order=desc&column=firstname&month=<%= month %>&year=<%= year %>"> </a>Student_name</th>

          <th><a class="fa-solid fa-angle-up"
              href="/report?order=asc&column=atten_count&month=<%= month %>&year=<%= year %>"></a><a
              class="fa-solid fa-angle-down"
              href="/report?order=desc&column=atten_count&month=<%= month %>&year=<%= year %>"></a>No.of days Present
          </th>
          <th><a class="fa-solid fa-angle-up"
              href="/report?order=asc&column=persentage&month=<%= month %>&year=<%= year %>"></a><a
              class="fa-solid fa-angle-down"
              href="/report?order=desc&column=persentage&month=<%= month %>&year=<%= year %>"></a>Attendence Percentage
          </th>
        </tr>

        <% for( let i=0;i < data.length ; i++ ) { %>
          <tr>
            <td>
              <%= data[i].id %>
            </td>
            <td>
              <%= data[i].firstname %>
            </td>
            <td>
              <%= data[i].atten_count%>
            </td>
            <td>
              <%= data[i].persentage%>%
            </td>
          </tr>
          <% } %>
      </table>
    </div>
  </div>

  <script>
    funcblur = () => {
      document.getElementById("arrow1").style.backgroundColor = 'white';
      console.log('done');
    };
  </script>
</body>

</html>